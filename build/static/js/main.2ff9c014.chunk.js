(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{37:function(e,t,a){e.exports=a(79)},42:function(e,t,a){},43:function(e,t,a){},74:function(e,t){},79:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(35),l=a.n(c),m=(a(42),a(1));a(43);var o=function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),c=a[0],l=a[1];return r.a.createElement("div",{className:"login-form pt-3"},r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.handleUsername(c),l("")}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"Enter your username",className:"form-control",style:{fontSize:"20px",borderColor:"#7289da"},id:"usernameInput",autoComplete:"off",value:c,onChange:function(e){l(e.target.value)}}),e.error.error&&r.a.createElement("small",{className:"form-text text-danger"},e.error.message),r.a.createElement("button",{type:"submit",className:"btn btn-outline-primary mt-3",style:{borderColor:"#7289da",color:"#7289da"}},"Login"))))};var s=function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"container vh-100"},r.a.createElement("div",{className:"row h-100 justify-content-center align-items-center"},r.a.createElement("div",{className:"col-6 login-card"},r.a.createElement("div",{className:"mb-5"},r.a.createElement("h1",{className:"text-center",style:{color:"#7289da"}},"Welcome to ",r.a.createElement("b",null,"my_irc")),r.a.createElement("p",{className:"text-right text-muted",style:{paddingRight:"80px"}},r.a.createElement("small",null,"By NGUYEN Hao-Nhien."))),r.a.createElement(o,{handleUsername:function(t){e.loginHanddle(t)},error:e.error})))))},i=a(36),u=a.n(i)()("/");function f(e,t){u.on("message",(function(a){a.room!==e&&"_global"!==a.room||t(a)}))}function E(e,t){var a=e.split(" ")[0].substring(1);if(["join","nick","create","delete","list","part","users","msg"].includes(a)){var n=e.substring(a.length+1).trim().replace(/\s\s+/g," ");return u.emit(a,{command:n,room:t}),!0}return a}var b=u,d=a(2),p=a(5);var v=function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),c=a[0],l=a[1];return r.a.createElement("div",{className:"message-form"},r.a.createElement("form",{className:"",onSubmit:function(t){t.preventDefault(),e.handleMessage(c),l("")}},r.a.createElement("input",{type:"text",className:"chat-input pl-3",style:{fontSize:"18px"},autoComplete:"off",placeholder:"Enter message",value:c,onChange:function(e){l(e.target.value)}}),r.a.createElement("button",{type:"submit",className:"btn btn-primary chat-btn"},"Send")))};var h=function(e){var t=e.messageData,a=t.author,n=t.time,c=t.content,l=t.type;return r.a.createElement("div",{className:"message-card"},r.a.createElement("h5",null,a&&r.a.createElement("span",{className:"username ".concat("bot"===l?"text-danger":"text-user")},a),r.a.createElement("span",{className:"time"},n)),r.a.createElement("p",{className:a||"info"},c))};var g=function(e){var t=e.user;return r.a.createElement("div",{className:"list-item ml-4 mr-3 my-3 d-flex"},r.a.createElement("span",null,t))};var N=function(e){var t=e.list;return r.a.createElement("div",{className:"user-list"},r.a.createElement("h3",{className:"list-title pl-2"},"Users (",t.length,")"),r.a.createElement("div",{className:"list"},t.map((function(e){return r.a.createElement(g,{user:e,key:e})}))))},y=a(6),j={author:"chatBOT",type:"bot"};function O(e){return{content:r.a.createElement("span",null,"You joined ",r.a.createElement("i",null,"#",e.name)),time:e.time}}function x(e){return Object(y.a)(Object(y.a)({},j),{},{content:"'/".concat(e,"' command doesn't exist.")})}var S=function(e){var t=e.room,a=e.user.username,c=Object(n.useState)([O(t)]),l=Object(m.a)(c,2),o=l[0],s=l[1],i=Object(n.useState)([]),p=Object(m.a)(i,2),g=p[0],y=p[1],j=Object(n.useRef)(null);return Object(n.useEffect)((function(){j.current.scrollIntoView()}),[o]),Object(n.useEffect)((function(){function e(e){s((function(t){return[].concat(Object(d.a)(t),[e])}))}function a(e){y(e.list)}return f(t.name,e),function(e,t){u.on("userListUpdate",(function(a){a.room===e&&t(a)}))}(t.name,a),function(){b.removeListener("message",e),b.removeListener("userListUpdate",a)}}),[t.name]),r.a.createElement("div",{style:{height:"44rem"}},r.a.createElement("div",{className:"container-fluid chat-room h-100 mt-2"},r.a.createElement("div",{className:"row h-100"},r.a.createElement("div",{className:"col-3 pl-0 pr-1 h-100"},r.a.createElement("div",{className:"left-panel w-100 container-fluid",style:{height:"100%"}},r.a.createElement("h3",{className:"py-3 pl-2 mb-4 room-name"},"#",t.name),r.a.createElement(N,{list:g})),r.a.createElement("div",{className:"bottom-panel d-flex justify-content-between"},r.a.createElement("h3",{className:"px-4 m-0 d-inline-block"},"@",a),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){b.emit("delete",{room:t.name})},className:"btn btn-danger disabled",style:{margin:"5px 15px 12px 0px"}},"Delete room"),r.a.createElement("button",{onClick:function(){b.emit("part",{room:t.name})},className:"btn btn-info",style:{margin:"5px 15px 12px 0px"}},"leave")))),r.a.createElement("div",{className:"col-9 h-100 pr-0"},r.a.createElement("div",{style:{height:"100%"}},r.a.createElement("div",{className:"messages-box"},o.map((function(e,t){return r.a.createElement(h,{messageData:e,key:t})})),r.a.createElement("div",{ref:j})),r.a.createElement(v,{handleMessage:function(e){if("/"===(e=e.trim()).charAt(0)){var a=E(e,t.name);!0!==a&&s([].concat(Object(d.a)(o),[x(a)]))}else""!==e&&function(e,t){u.emit("clientMessage",{room:t,content:e,type:"user"})}(e,t.name)}}))))))};var k=function(e){var t=e.room;return r.a.createElement("div",{className:"list-item ml-4 mr-3 my-3 d-flex justify-content-between"},r.a.createElement("span",null,t),r.a.createElement("button",{onClick:function(){b.emit("join",{room:"_main",command:t.substring(1)})},className:"btn btn-outline-success"},"Join"))};var w=function(e){var t=e.list;return r.a.createElement("div",{className:"col-6 h-100"},r.a.createElement("div",{className:"room-list"},r.a.createElement("h3",{className:"pl-4 py-3 mb-0"},"Room list"),r.a.createElement("div",{className:"list"},t.map((function(e){return r.a.createElement(k,{room:e,key:e})})))))};var C=function(e){var t=Object(n.useState)(""),a=Object(m.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(e.username),s=Object(m.a)(o,2),i=s[0],u=s[1];return r.a.createElement("div",{className:"col-6 h-100"},r.a.createElement("div",{className:"action-panel"},r.a.createElement("div",{className:"form"},r.a.createElement("h4",{className:"pl-2 py-1 mb-3"},"Create a room"),r.a.createElement("form",{className:"d-flex pb-2",onSubmit:function(t){t.preventDefault(),b.emit("create",{command:c,room:e.room}),l("")}},r.a.createElement("input",{type:"text",className:"pl-3 form-control",style:{fontSize:"18px",marginRight:"10px"},autoComplete:"off",placeholder:"Enter a room name",value:c,onChange:function(e){l(e.target.value)}}),r.a.createElement("button",{type:"submit",className:"btn btn-create"},"Create"))),r.a.createElement("div",{className:"form mt-4"},r.a.createElement("h4",{className:"pl-2 py-1 mb-3"},"Change your username"),r.a.createElement("form",{className:"d-flex pb-2",onSubmit:function(t){t.preventDefault(),b.emit("nick",{command:i,room:e.room})}},r.a.createElement("input",{type:"text",className:"pl-3 form-control",style:{fontSize:"18px",marginRight:"10px"},autoComplete:"off",placeholder:"Enter a new username",value:i,onChange:function(e){u(e.target.value)}}),r.a.createElement("button",{type:"submit",className:"btn btn-create"},"Change")))))};var L=function(e){var t=e.user.username,a=Object(n.useState)(Object(d.a)(function(e){var t=r.a.createElement("span",null,"Welcome to my_irc ",r.a.createElement("strong",null,e)," !",r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("b",null,"Here is a list of commands you can type : "),r.a.createElement("br",null),r.a.createElement("b",null,"/nick")," [nickname] : change your nickname.",r.a.createElement("br",null),r.a.createElement("b",null,"/list")," [string] : list all channels containing [string] if specified",r.a.createElement("br",null),r.a.createElement("b",null,"/create")," [channel] : create a channel.",r.a.createElement("br",null),r.a.createElement("b",null,"/delete")," [channel] : delete a channel.",r.a.createElement("br",null),r.a.createElement("b",null,"/join")," [channel] : join a [channel].",r.a.createElement("br",null),r.a.createElement("b",null,"/part")," [channel] : quit a [channel]",r.a.createElement("br",null),r.a.createElement("b",null,"/users")," : list all users in the channel.",r.a.createElement("br",null),r.a.createElement("b",null,"/msg")," [nickname;] [message] : send a [message] to a specified [nickname].");return[Object(y.a)(Object(y.a)({},j),{},{content:t}),Object(y.a)(Object(y.a)({},j),{},{content:"You will receive privates messages here."})]}(t))),c=Object(m.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)([]),i=Object(m.a)(s,2),p=i[0],g=i[1],N=Object(n.useRef)(null);return Object(n.useEffect)((function(){N.current.scrollIntoView()}),[l]),Object(n.useEffect)((function(){function e(e){o((function(t){return[].concat(Object(d.a)(t),[e])}))}function t(e){g(e)}var a;return f("_main",e),a=t,u.on("roomListUpdate",(function(e){a(e)})),function(){b.removeListener("message",e),b.removeListener("roomListUpdate",t)}}),[]),r.a.createElement("div",{style:{height:"44rem"}},r.a.createElement("div",{className:"container-fluid home-panel h-100 mt-2"},r.a.createElement("div",{className:"row h-100"},r.a.createElement("div",{className:"col-6 pl-0 pr-1 h-100"},r.a.createElement("div",{className:"left-panel w-100 container-fluid",style:{height:"100%"}},r.a.createElement("h1",{className:"pl-3 py-3"},"my_irc"),r.a.createElement("div",{className:"row",style:{height:"84%",paddingTop:"26px"}},r.a.createElement(w,{list:p}),r.a.createElement(C,{room:"_main",username:t}))),r.a.createElement("div",{className:"bottom-panel"},r.a.createElement("h3",{className:"px-4 d-inline-block"},"@",t))),r.a.createElement("div",{className:"col-6 h-100 pr-0"},r.a.createElement("div",{style:{height:"100%"}},r.a.createElement("div",{className:"messages-box"},l.map((function(e,t){return r.a.createElement(h,{messageData:e,key:t})})),r.a.createElement("div",{ref:N})),r.a.createElement(v,{handleMessage:function(e){if("/"===(e=e.trim()).charAt(0)){var t=E(e,"_main");!0!==t&&o([].concat(Object(d.a)(l),[x(t)]))}else""!==e&&o([].concat(Object(d.a)(l),[{author:"chatBOT",content:"Only type commands here.",type:"bot"}]))}}))))))};var R=function(e){var t=Object(n.useState)([]),a=Object(m.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(0),s=Object(m.a)(o,2),i=s[0],f=s[1],E=e.user;return Object(n.useEffect)((function(){var e;e=function(e){l((function(t){return[].concat(Object(d.a)(t),[e])}))},u.on("joinRoom",(function(t){e(t)})),function(e){u.on("leaveRoom",(function(t){e(t)}))}((function(e){l((function(t){return t.filter((function(t){return t.name!==e}))}))}))}),[]),Object(n.useEffect)((function(){f(c.length)}),[c]),r.a.createElement("div",{className:"main-frame container-fluid"},r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"col-12"},r.a.createElement(p.d,{forceRenderTabPanel:!0,selectedIndex:i,onSelect:function(e){return f(e)}},r.a.createElement(p.b,null,r.a.createElement(p.a,null,"Home"),c.map((function(e){return r.a.createElement(p.a,{key:e.name},"#",e.name)}))),r.a.createElement(p.c,null,r.a.createElement(L,{user:E})),c.map((function(e){return r.a.createElement(p.c,{key:e.name},r.a.createElement(S,{room:e,user:E}))}))))))};var D=function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),o=Object(m.a)(l,2),i=o[0],f=o[1];return Object(n.useEffect)((function(){function e(e){e.username?(c(e),f(!1)):f(e)}var t;return t=e,u.on("userInfo",(function(e){t(e)})),function(){b.removeListener("userInfo",e)}}),[]),r.a.createElement("div",null,a?r.a.createElement(R,{user:a}):r.a.createElement(s,{loginHanddle:function(e){!function(e){u.emit("login",e)}(e)},error:i}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[37,1,2]]]);
//# sourceMappingURL=main.2ff9c014.chunk.js.map